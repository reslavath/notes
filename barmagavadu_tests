BARMAN TESTS..

SIZE of the database directory
		root@hostname[DEV][data] # pwd
		/var/lib/pgsql/10/data
		You have new mail in /var/mail/root
		root@hostname[DEV][data] # du -sh
		56G     .
		root@hostname[DEV][data] #

SIZE OF individual databases
		postgres=# \l+ a*
		List of databases
		-[ RECORD 1 ]-----+------------
		Name              | a1_benchdb
		Size              | 27 GB
		-[ RECORD 2 ]-----+------------
		Name              | a2_benchdb
		Size              | 15 GB

Initiated the Backup

		barman@hostname[DEV][~] $ date; barman backup pg
		Wed Oct 11 02:58:06 UTC 2017
		Starting backup using rsync-exclusive method for server pg in /var/lib/barman/pg/base/20171011T025806
		Backup start at LSN: 28/A0000028 (0000000100000028000000A0, 00000028)
		This is the first backup for server pg
		WAL segments preceding the current backup have been found:
				00000001000000280000009D from server pg has been removed
				00000001000000280000009E from server pg has been removed
		Starting backup copy via rsync/SSH for 20171011T025806
		Copy done (time: 5 minutes, 14 seconds)
		This is the first backup for server pg
		WAL segments preceding the current backup have been found:
				00000001000000280000009F from server pg has been removed
		Asking PostgreSQL server to finalize the backup.
		Backup size: 41.5 GiB. Actual size on disk: 41.5 GiB (-0.00% deduplication ratio).
		Backup end at LSN: 28/A0000130 (0000000100000028000000A0, 00000130)
		Backup completed (start time: 2017-10-11 02:58:06.620215, elapsed time: 5 minutes, 15 seconds)
		Processing xlog segments from file archival for pg
				0000000100000028000000A0
				0000000100000028000000A0.00000028.backup
		Processing xlog segments from streaming for pg
				0000000100000028000000A0


From the BARMAN.LOG during the backup

			2017-10-11 02:58:06,615 [24330] barman.backup_executor INFO: Backup start at LSN: 28/A0000028 (0000000100000028000000A0, 00000028)
			2017-10-11 02:58:06,616 [24330] barman.backup_executor INFO: This is the first backup for server pg
			2017-10-11 02:58:06,618 [24330] barman.backup_executor INFO:    00000001000000280000009D from server pg has been removed
			2017-10-11 02:58:06,619 [24330] barman.backup_executor INFO:    00000001000000280000009E from server pg has been removed
			2017-10-11 02:58:06,619 [24330] barman.backup_executor INFO: Starting backup copy via rsync/SSH for 20171011T025806
			2017-10-11 02:58:06,620 [24330] barman.copy_controller INFO: Copy started (safe before None)
			2017-10-11 02:58:06,620 [24330] barman.copy_controller INFO: Copy step 1 of 5: [global] analyze remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 02:58:07,007 [24330] barman.copy_controller INFO: Copy step 2 of 5: [global] create destination directories and delete unknown files for remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 02:58:07,273 [24383] barman.copy_controller INFO: Copy step 3 of 5: [bucket 0] starting copy safe files from remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:03:21,291 [24383] barman.copy_controller INFO: Copy step 3 of 5: [bucket 0] finished (duration: 5 minutes, 14 seconds) copy safe files from remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:03:21,320 [24383] barman.copy_controller INFO: Copy step 4 of 5: [bucket 0] starting copy files with checksum from remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:03:21,536 [24383] barman.copy_controller INFO: Copy step 4 of 5: [bucket 0] finished (duration: less than one second) copy files with checksum from remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:03:21,539 [24383] barman.copy_controller INFO: Copy step 5 of 5: [global] starting copy remote pg_control file: /var/lib/pgsql/10/data/global/pg_control
			2017-10-11 03:03:21,675 [24383] barman.copy_controller INFO: Copy step 5 of 5: [global] finished (duration: less than one second) copy remote pg_control file: /var/lib/pgsql/10/data/global/pg_control
			2017-10-11 03:03:21,675 [24330] barman.copy_controller INFO: Copy finished (safe before None)
			2017-10-11 03:03:21,734 [24330] barman.backup_executor INFO: Copy done (time: 5 minutes, 14 seconds)
			2017-10-11 03:03:21,735 [24330] barman.backup_executor INFO: This is the first backup for server pg
			2017-10-11 03:03:21,738 [24330] barman.backup_executor INFO:    00000001000000280000009F from server pg has been removed
			2017-10-11 03:03:21,739 [24330] barman.backup_executor INFO: Asking PostgreSQL server to finalize the backup.
			2017-10-11 03:03:21,807 [23987] barman.command_wrappers INFO: pg: pg_receivewal: finished segment at 28/A1000000 (timeline 1)
			2017-10-11 03:03:22,803 [24330] barman.backup INFO: Backup size: 41.5 GiB. Actual size on disk: 41.5 GiB (-0.00% deduplication ratio).
			2017-10-11 03:03:22,804 [24330] barman.backup INFO: Backup end at LSN: 28/A0000130 (0000000100000028000000A0, 00000130)
			2017-10-11 03:03:22,804 [24330] barman.backup INFO: Backup completed (start time: 2017-10-11 02:58:06.620215, elapsed time: 5 minutes, 15 seconds)

Disk utilisation in Barman backup directory

			42G     .
			42G     base
			0       errors
			0       incoming
			16M     streaming
			36K     wals
			backup sizes on disk
			42G     20171011T025806
Barman-list backup
			root@hostname[DEV][postgres] # barman list-backup pg
			pg 20171011T025806 - Wed Oct 11 03:03:21 2017 - Size: 41.5 GiB - WAL Size: 12.6 MiB
barman show backup
			root@hostname[DEV][postgres] # barman show-backup pg 20171011T025806
			Backup 20171011T025806:
			  Server Name            : pg
			  Status                 : DONE
			  PostgreSQL Version     : 100000
			  PGDATA directory       : /var/lib/pgsql/10/data

			  Base backup information:
				Disk usage           : 41.5 GiB (41.5 GiB with WALs)
				Incremental size     : 41.5 GiB (-0.00%)
				Timeline             : 1
				Begin WAL            : 0000000100000028000000A0
				End WAL              : 0000000100000028000000A0
				WAL number           : 1
				WAL compression ratio: 99.84%
				Begin time           : 2017-10-11 02:58:06.477490+00:00
				End time             : 2017-10-11 03:03:21.739530+00:00
				Copy time            : 5 minutes, 14 seconds
				Estimated throughput : 135.3 MiB/s
				Begin Offset         : 40
				End Offset           : 304
				Begin LSN           : 28/A0000028
				End LSN             : 28/A0000130

			  WAL information:
				No of files          : 15
				Disk usage           : 12.6 MiB
				WAL rate             : 179.99/hour
				Compression ratio    : 94.73%
				Last available       : 0000000100000028000000AF

			  Catalog information:
				Retention Policy     : not enforced
				Previous Backup      : - (this is the oldest base backup)
				Next Backup          : - (this is the latest base backup)

	
create new database"inc_db1" and load some data into it
			postgres=# \l+ inc_db1
			List of databases
			-[ RECORD 1 ]-----+------------
			Name              | inc_db1
			Size              | 307 MB

Disk utilization on postgres database directory

			postgres@hostname[DEV][~] $ du -sh /var/lib/pgsql/10/data/
			46G     /var/lib/pgsql/10/data/

Disk utilisation in Barman backup directory

			42G     .
			42G     base
			0       errors
			0       incoming
			16M     streaming
			13M     wals
			backup sizes on disk
			42G     20171011T025806
			

Initiated the Backup	
			barman@hostname[DEV][~] $ date; barman backup pg
			Wed Oct 11 03:13:53 UTC 2017
			Starting backup using rsync-exclusive method for server pg in /var/lib/barman/pg/base/20171011T031353
			Backup start at LSN: 28/B10000D0 (0000000100000028000000B1, 000000D0)
			Starting backup copy via rsync/SSH for 20171011T031353
			Copy done (time: 2 seconds)
			Asking PostgreSQL server to finalize the backup.
			Backup size: 41.8 GiB. Actual size on disk: 308.8 MiB (-99.28% deduplication ratio).
			Backup end at LSN: 28/B10001A0 (0000000100000028000000B1, 000001A0)
			Backup completed (start time: 2017-10-11 03:13:54.119661, elapsed time: 3 seconds)
			Processing xlog segments from file archival for pg
					0000000100000028000000B0
					0000000100000028000000B1
					0000000100000028000000B1.000000D0.backup
			Processing xlog segments from streaming for pg
					0000000100000028000000B0


From the BARMAN.LOG during the backup
			
			2017-10-11 03:13:54,118 [30266] barman.backup_executor INFO: Backup start at LSN: 28/B10000D0 (0000000100000028000000B1, 000000D0)
			2017-10-11 03:13:54,119 [30266] barman.backup_executor INFO: Starting backup copy via rsync/SSH for 20171011T031353
			2017-10-11 03:13:54,120 [30266] barman.copy_controller INFO: Copy started (safe before datetime.datetime(2017, 10, 11, 2, 58, 6, 477490, tzinfo=tzlocal()))
			2017-10-11 03:13:54,120 [30266] barman.copy_controller INFO: Copy step 1 of 5: [global] analyze remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:13:54,726 [30266] barman.copy_controller INFO: Copy step 2 of 5: [global] create destination directories and delete unknown files for remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:13:54,989 [30323] barman.copy_controller INFO: Copy step 3 of 5: [bucket 0] starting copy safe files from remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:13:57,267 [30323] barman.copy_controller INFO: Copy step 3 of 5: [bucket 0] finished (duration: 2 seconds) copy safe files from remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:13:57,298 [30323] barman.copy_controller INFO: Copy step 4 of 5: [bucket 0] starting copy files with checksum from remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:13:57,434 [30323] barman.copy_controller INFO: Copy step 4 of 5: [bucket 0] finished (duration: less than one second) copy files with checksum from remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:13:57,437 [30323] barman.copy_controller INFO: Copy step 5 of 5: [global] starting copy remote pg_control file: /var/lib/pgsql/10/data/global/pg_control
			2017-10-11 03:13:57,572 [30323] barman.copy_controller INFO: Copy step 5 of 5: [global] finished (duration: less than one second) copy remote pg_control file: /var/lib/pgsql/10/data/global/pg_control
			2017-10-11 03:13:57,573 [30266] barman.copy_controller INFO: Copy finished (safe before 2017-10-11 02:58:06.477490+00:00)
			2017-10-11 03:13:57,658 [30266] barman.backup_executor INFO: Copy done (time: 2 seconds)
			2017-10-11 03:13:57,659 [30266] barman.backup_executor INFO: Asking PostgreSQL server to finalize the backup.
			2017-10-11 03:13:57,728 [23987] barman.command_wrappers INFO: pg: pg_receivewal: finished segment at 28/B2000000 (timeline 1)
			2017-10-11 03:13:58,724 [30266] barman.backup INFO: Backup size: 41.8 GiB. Actual size on disk: 308.8 MiB (-99.28% deduplication ratio).
			2017-10-11 03:13:58,725 [30266] barman.backup INFO: Backup end at LSN: 28/B10001A0 (0000000100000028000000B1, 000001A0)
			2017-10-11 03:13:58,726 [30266] barman.backup INFO: Backup completed (start time: 2017-10-11 03:13:54.119661, elapsed time: 3 seconds)

Disk utilisation in Barman backup directory

			42G     .
			42G     base
			0       errors
			0       incoming
			16M     streaming
			14M     wals
			backup sizes on disk
			42G     20171011T025806
			309M    20171011T031353


Barman-list backup
			barman@hostname[DEV][~] $ barman list-backup pg
			pg 20171011T031353 - Wed Oct 11 03:13:57 2017 - Size: 41.8 GiB - WAL Size: 0 B
			pg 20171011T025806 - Wed Oct 11 03:03:21 2017 - Size: 41.5 GiB - WAL Size: 13.8 MiB
barman show-backup
			root@hostname[DEV][postgres] # barman show-backup pg 20171011T031353
			Backup 20171011T031353:
			  Server Name            : pg
			  Status                 : DONE
			  PostgreSQL Version     : 100000
			  PGDATA directory       : /var/lib/pgsql/10/data

			  Base backup information:
				Disk usage           : 41.8 GiB (41.8 GiB with WALs)
				Incremental size     : 308.8 MiB (-99.28%)
				Timeline             : 1
				Begin WAL            : 0000000100000028000000B1
				End WAL              : 0000000100000028000000B1
				WAL number           : 1
				WAL compression ratio: 99.84%
				Begin time           : 2017-10-11 03:13:53.994992+00:00
				End time             : 2017-10-11 03:13:57.660017+00:00
				Copy time            : 2 seconds
				Estimated throughput : 119.5 MiB/s
				Begin Offset         : 208
				End Offset           : 416
				Begin LSN           : 28/B10000D0
				End LSN             : 28/B10001A0

			  WAL information:
				No of files          : 0
				Disk usage           : 0 B
				Last available       : 0000000100000028000000B1

			  Catalog information:
				Retention Policy     : not enforced
				Previous Backup      : 20171011T025806
				Next Backup          : - (this is the latest base backup)


Disk utilisation in Barman backup directory
				42G     .
				42G     base
				0       errors
				0       incoming
				16M     streaming
				14M     wals
				backup sizes on disk
				42G     20171011T025806
				309M    20171011T031353


create new database"inc_db2" and load some data into it

				postgres=# \l+ inc_db2
				List of databases
				-[ RECORD 1 ]-----+------------
				Name              | inc_db2
				Owner             | postgres
				Encoding          | UTF8
				Collate           | en_US.UTF-8
				Ctype             | en_US.UTF-8
				Access privileges |
				Size              | 307 MB
				Tablespace        | pg_default
				Description       |

Disk utilization on postgres database directory
				postgres@hostname[DEV][~] $ du -sh /var/lib/pgsql/10/data/               46G     /var/lib/pgsql/10/data/

Disk utilisation on backup directory
				42G     .
				42G     base
				0       errors
				0       incoming
				16M     streaming
				27M     wals
				backup sizes on disk
				42G     20171011T025806
				309M    20171011T031353

Initiated the Backup

				barman@hostname[DEV][~] $ barman backup pg
				Starting backup using rsync-exclusive method for server pg in /var/lib/barman/pg/base/20171011T032650
				Backup start at LSN: 28/C2000028 (0000000100000028000000C2, 00000028)
				Starting backup copy via rsync/SSH for 20171011T032650
				Copy done (time: 3 seconds)
				Asking PostgreSQL server to finalize the backup.
				Backup size: 42.1 GiB. Actual size on disk: 308.8 MiB (-99.28% deduplication ratio).
				Backup end at LSN: 28/C20000F8 (0000000100000028000000C2, 000000F8)
				Backup completed (start time: 2017-10-11 03:26:50.684800, elapsed time: 4 seconds)
				Processing xlog segments from file archival for pg
						0000000100000028000000C1
						0000000100000028000000C2
						0000000100000028000000C2.00000028.backup
				Processing xlog segments from streaming for pg
						0000000100000028000000C1
						0000000100000028000000C2

from the backup log
			2017-10-11 03:26:50,555 [2996] barman.backup INFO: Starting backup using rsync-exclusive method for server pg in /var/lib/barman/pg/base/20171011T032650
			2017-10-11 03:26:50,624 [23987] barman.command_wrappers INFO: pg: pg_receivewal: finished segment at 28/C2000000 (timeline 1)
			2017-10-11 03:26:50,683 [2996] barman.backup_executor INFO: Backup start at LSN: 28/C2000028 (0000000100000028000000C2, 00000028)
			2017-10-11 03:26:50,684 [2996] barman.backup_executor INFO: Starting backup copy via rsync/SSH for 20171011T032650
			2017-10-11 03:26:50,685 [2996] barman.copy_controller INFO: Copy started (safe before datetime.datetime(2017, 10, 11, 3, 13, 53, 994992, tzinfo=tzlocal()))
			2017-10-11 03:26:50,685 [2996] barman.copy_controller INFO: Copy step 1 of 5: [global] analyze remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:26:51,340 [2996] barman.copy_controller INFO: Copy step 2 of 5: [global] create destination directories and delete unknown files for remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:26:51,626 [3049] barman.copy_controller INFO: Copy step 3 of 5: [bucket 0] starting copy safe files from remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:26:53,903 [3049] barman.copy_controller INFO: Copy step 3 of 5: [bucket 0] finished (duration: 2 seconds) copy safe files from remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:26:53,938 [3049] barman.copy_controller INFO: Copy step 4 of 5: [bucket 0] starting copy files with checksum from remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:26:55,315 [3049] barman.copy_controller INFO: Copy step 4 of 5: [bucket 0] finished (duration: 1 second) copy files with checksum from remote PGDATA directory: /var/lib/pgsql/10/data/
			2017-10-11 03:26:55,319 [3049] barman.copy_controller INFO: Copy step 5 of 5: [global] starting copy remote pg_control file: /var/lib/pgsql/10/data/global/pg_control
			2017-10-11 03:26:55,455 [3049] barman.copy_controller INFO: Copy step 5 of 5: [global] finished (duration: less than one second) copy remote pg_control file: /var/lib/pgsql/10/data/global/pg_control
			2017-10-11 03:26:55,455 [2996] barman.copy_controller INFO: Copy finished (safe before 2017-10-11 03:13:53.994992+00:00)
			2017-10-11 03:26:55,484 [2996] barman.backup_executor INFO: Copy done (time: 3 seconds)
			2017-10-11 03:26:55,484 [2996] barman.backup_executor INFO: Asking PostgreSQL server to finalize the backup.
			2017-10-11 03:26:55,555 [23987] barman.command_wrappers INFO: pg: pg_receivewal: finished segment at 28/C3000000 (timeline 1)
			2017-10-11 03:26:56,552 [2996] barman.backup INFO: Backup size: 42.1 GiB. Actual size on disk: 308.8 MiB (-99.28% deduplication ratio).
			2017-10-11 03:26:56,553 [2996] barman.backup INFO: Backup end at LSN: 28/C20000F8 (0000000100000028000000C2, 000000F8)
			2017-10-11 03:26:56,553 [2996] barman.backup INFO: Backup completed (start time: 2017-10-11 03:26:50.684800, elapsed time: 4 seconds)


Disk utilization from backup directory

			43G     .
			43G     base
			0       errors
			0       incoming
			16M     streaming
			28M     wals
			backup sizes on disk
			42G     20171011T025806
			309M    20171011T031353
			309M    20171011T032650

barman backup-list
			barman@hostname[DEV][~] $ barman list-backup pg
			pg 20171011T032650 - Wed Oct 11 03:26:55 2017 - Size: 42.1 GiB - WAL Size: 0 B
			pg 20171011T031353 - Wed Oct 11 03:13:57 2017 - Size: 41.8 GiB - WAL Size: 13.8 MiB
			pg 20171011T025806 - Wed Oct 11 03:03:21 2017 - Size: 41.5 GiB - WAL Size: 13.8 MiB

barman show-backup
			barman@hostname[DEV][~] $ barman show-backup pg 20171011T032650
			Backup 20171011T032650:
			  Server Name            : pg
			  Status                 : DONE
			  PostgreSQL Version     : 100000
			  PGDATA directory       : /var/lib/pgsql/10/data

			  Base backup information:
				Disk usage           : 42.1 GiB (42.1 GiB with WALs)
				Incremental size     : 308.8 MiB (-99.28%)
				Timeline             : 1
				Begin WAL            : 0000000100000028000000C2
				End WAL              : 0000000100000028000000C2
				WAL number           : 1
				WAL compression ratio: 99.84%
				Begin time           : 2017-10-11 03:26:50.559295+00:00
				End time             : 2017-10-11 03:26:55.485420+00:00
				Copy time            : 3 seconds
				Estimated throughput : 80.6 MiB/s
				Begin Offset         : 40
				End Offset           : 248
				Begin LSN           : 28/C2000028
				End LSN             : 28/C20000F8

			  WAL information:
				No of files          : 0
				Disk usage           : 0 B
				Last available       : 0000000100000028000000C2

			  Catalog information:
				Retention Policy     : not enforced
				Previous Backup      : 20171011T031353
				Next Backup          : - (this is the latest base backup)
			barman@hostname[DEV][~] $

			
			
run 2 other backups

barman@hostname[DEV][~] $ barman backup pg
			Starting backup using rsync-exclusive method for server pg in /var/lib/barman/pg/base/20171011T033454
			Backup start at LSN: 28/C4000028 (0000000100000028000000C4, 00000028)
			Starting backup copy via rsync/SSH for 20171011T033454
			Copy done (time: less than one second)
			Asking PostgreSQL server to finalize the backup.
			Backup size: 42.1 GiB. Actual size on disk: 1.7 MiB (-100.00% deduplication ratio).
			Backup end at LSN: 28/C40000F8 (0000000100000028000000C4, 000000F8)
			Backup completed (start time: 2017-10-11 03:34:54.444188, elapsed time: 1 second)
			Processing xlog segments from file archival for pg
					0000000100000028000000C3
					0000000100000028000000C4
					0000000100000028000000C4.00000028.backup
			Processing xlog segments from streaming for pg
					0000000100000028000000C3
					0000000100000028000000C4

barman@hostname[DEV][~] $ barman backup pg
			Starting backup using rsync-exclusive method for server pg in /var/lib/barman/pg/base/20171011T033505
			Backup start at LSN: 28/C6000028 (0000000100000028000000C6, 00000028)
			Starting backup copy via rsync/SSH for 20171011T033505

			Copy done (time: less than one second)
			Asking PostgreSQL server to finalize the backup.
			Backup size: 42.1 GiB. Actual size on disk: 1.7 MiB (-100.00% deduplication ratio).
			Backup end at LSN: 28/C60000F8 (0000000100000028000000C6, 000000F8)
			Backup completed (start time: 2017-10-11 03:35:05.586694, elapsed time: 1 second)
			Processing xlog segments from file archival for pg
					0000000100000028000000C5
					0000000100000028000000C6
					0000000100000028000000C6.00000028.backup
			Processing xlog segments from streaming for pg
					0000000100000028000000C5

actual backup sizes on disk

			43G     .
			43G     base
			0       errors
			0       incoming
			32M     streaming
			28M     wals
			backup sizes on disk
			42G     20171011T025806
			309M    20171011T031353
			309M    20171011T032650
			1.9M    20171011T033454
			1.9M    20171011T033505
barman list backup
			barman@hostname[DEV][~] $ barman list-backup pg
			pg 20171011T033505 - Wed Oct 11 03:35:07 2017 - Size: 42.1 GiB - WAL Size: 0 B
			pg 20171011T033454 - Wed Oct 11 03:34:55 2017 - Size: 42.1 GiB - WAL Size: 53.0 KiB
			pg 20171011T032650 - Wed Oct 11 03:26:55 2017 - Size: 42.1 GiB - WAL Size: 53.1 KiB
			pg 20171011T031353 - Wed Oct 11 03:13:57 2017 - Size: 41.8 GiB - WAL Size: 13.8 MiB
			pg 20171011T025806 - Wed Oct 11 03:03:21 2017 - Size: 41.5 GiB - WAL Size: 13.8 MiB

			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
Now delete the oldest backup/20171011T033505

			barman@hostname[DEV][~] $ barman delete pg 20171011T033505
			Deleting backup 20171011T033505 for server pg
			Deleted backup 20171011T033505 (start time: Wed Oct 11 03:38:19 2017, elapsed time: less than one second)

Deleting the barman log
			2017-10-11 03:38:19,852 [7661] barman.backup INFO: Deleting backup 20171011T033505 for server pg
			2017-10-11 03:38:19,887 [7661] barman.backup INFO: Deleted backup 20171011T033505 (start time: Wed Oct 11 03:38:19 2017, elapsed time: less than one second)
			
disk utilisation in the backup directory
			
			43G     base
			43G     base
			0       errors
			0       incoming
			16M     streaming
			28M     wals
			backup sizes on disk
			42G     20171011T025806
			309M    20171011T031353
			309M    20171011T032650
			1.9M    20171011T033454
			
barman show backup of latest backup
			barman@hostname[DEV][~] $ barman show-backup pg 20171011T025806
			Backup 20171011T025806:
			  Server Name            : pg
			  Status                 : DONE
			  PostgreSQL Version     : 100000
			  PGDATA directory       : /var/lib/pgsql/10/data

			  Base backup information:
				Disk usage           : 41.5 GiB (41.5 GiB with WALs)
				Incremental size     : 41.5 GiB (-0.00%)
				Timeline             : 1
				Begin WAL            : 0000000100000028000000A0
				End WAL              : 0000000100000028000000A0
				WAL number           : 1
				WAL compression ratio: 99.84%
				Begin time           : 2017-10-11 02:58:06.477490+00:00
				End time             : 2017-10-11 03:03:21.739530+00:00
				Copy time            : 5 minutes, 14 seconds
				Estimated throughput : 135.3 MiB/s
				Begin Offset         : 40
				End Offset           : 304
				Begin LSN           : 28/A0000028
				End LSN             : 28/A0000130

			  WAL information:
				No of files          : 17
				Disk usage           : 13.8 MiB
				WAL rate             : 101.90/hour
				Compression ratio    : 94.93%
				Last available       : 0000000100000028000000B1

			  Catalog information:
				Retention Policy     : not enforced
				Previous Backup      : - (this is the oldest base backup)
				Next Backup          : 20171011T031353


delete another backup

				barman@hostname[DEV][~] $ barman delete pg 20171011T025806
				Deleting backup 20171011T025806 for server pg
				Delete associated WAL segments:
						0000000100000028000000A0
						0000000100000028000000A0.00000028.backup
						0000000100000028000000A1
						0000000100000028000000A2
						0000000100000028000000A3
						0000000100000028000000A4
						0000000100000028000000A5
						0000000100000028000000A6
						0000000100000028000000A7
						0000000100000028000000A8
						0000000100000028000000A9
						0000000100000028000000AA
						0000000100000028000000AB
						0000000100000028000000AC
						0000000100000028000000AD
						0000000100000028000000AE
						0000000100000028000000AF
						0000000100000028000000B0
				Deleted backup 20171011T025806 (start time: Wed Oct 11 03:43:41 2017, elapsed time: less than one second)


LOG FROM barman.log
		2017-10-11 03:43:41,287 [9689] barman.backup INFO: Deleting backup 20171011T025806 for server pg
		2017-10-11 03:43:41,316 [9689] barman.backup INFO: Delete associated WAL segments:
		2017-10-11 03:43:41,324 [9689] barman.backup INFO:      0000000100000028000000A0
		2017-10-11 03:43:41,325 [9689] barman.backup INFO:      0000000100000028000000A0.00000028.backup
		2017-10-11 03:43:41,325 [9689] barman.backup INFO:      0000000100000028000000A1
		2017-10-11 03:43:41,326 [9689] barman.backup INFO:      0000000100000028000000A2
		2017-10-11 03:43:41,326 [9689] barman.backup INFO:      0000000100000028000000A3
		2017-10-11 03:43:41,327 [9689] barman.backup INFO:      0000000100000028000000A4
		2017-10-11 03:43:41,327 [9689] barman.backup INFO:      0000000100000028000000A5
		2017-10-11 03:43:41,328 [9689] barman.backup INFO:      0000000100000028000000A6
		2017-10-11 03:43:41,328 [9689] barman.backup INFO:      0000000100000028000000A7
		2017-10-11 03:43:41,329 [9689] barman.backup INFO:      0000000100000028000000A8
		2017-10-11 03:43:41,329 [9689] barman.backup INFO:      0000000100000028000000A9
		2017-10-11 03:43:41,330 [9689] barman.backup INFO:      0000000100000028000000AA
		2017-10-11 03:43:41,330 [9689] barman.backup INFO:      0000000100000028000000AB
		2017-10-11 03:43:41,331 [9689] barman.backup INFO:      0000000100000028000000AC
		2017-10-11 03:43:41,331 [9689] barman.backup INFO:      0000000100000028000000AD
		2017-10-11 03:43:41,332 [9689] barman.backup INFO:      0000000100000028000000AE
		2017-10-11 03:43:41,332 [9689] barman.backup INFO:      0000000100000028000000AF
		2017-10-11 03:43:41,332 [9689] barman.backup INFO:      0000000100000028000000B0
		2017-10-11 03:43:41,333 [9689] barman.backup INFO: Deleted backup 20171011T025806 (start time: Wed Oct 11 03:43:41 2017, elapsed time: less than one second)
		
barman-list-backup
		barman@hostname[DEV][~] $ barman list-backup pg
		pg 20171011T033454 - Wed Oct 11 03:34:55 2017 - Size: 42.1 GiB - WAL Size: 53.0 KiB
		pg 20171011T032650 - Wed Oct 11 03:26:55 2017 - Size: 42.1 GiB - WAL Size: 53.1 KiB
		pg 20171011T031353 - Wed Oct 11 03:13:57 2017 - Size: 41.8 GiB - WAL Size: 13.8 MiB

backup directory disk utilisation 
		Every 1.0s: du -sh; du -sh *; echo 'backup sizes...  Wed Oct 11 03:46:22 2017

		43G     .
		43G     base
		0       errors
		0       incoming
		16M     streaming
		14M     wals
		backup sizes on disk
		42G     20171011T031353
		309M    20171011T032650
		1.9M    20171011T033454

barman list 

barman@hostname[DEV][~] $ barman show-backup pg 20171011T031353
Backup 20171011T031353:
  Server Name            : pg
  Status                 : DONE
  PostgreSQL Version     : 100000
  PGDATA directory       : /var/lib/pgsql/10/data

  Base backup information:
    Disk usage           : 41.8 GiB (41.8 GiB with WALs)
    Incremental size     : 308.8 MiB (-99.28%)
    Timeline             : 1
    Begin WAL            : 0000000100000028000000B1
    End WAL              : 0000000100000028000000B1
    WAL number           : 1
    WAL compression ratio: 99.84%
    Begin time           : 2017-10-11 03:13:53.994992+00:00
    End time             : 2017-10-11 03:13:57.660017+00:00
    Copy time            : 2 seconds
    Estimated throughput : 119.5 MiB/s
    Begin Offset         : 208
    End Offset           : 416
    Begin LSN           : 28/B10000D0
    End LSN             : 28/B10001A0

  WAL information:
    No of files          : 17
    Disk usage           : 13.8 MiB
    WAL rate             : 83.31/hour
    Compression ratio    : 94.93%
    Last available       : 0000000100000028000000C2

  Catalog information:
    Retention Policy     : not enforced
    Previous Backup      : - (this is the oldest base backup)
    Next Backup          : 20171011T032650


